## Spring Batch

### 참고 자료
- [[10분 테코톡] 라빈의 Spring Batch](https://youtu.be/1xJU8HfBREY?si=pGZszWCCciiyPawY)
- [[스프링 배치 입문] 예재로 배우는 핵심 Spring Batch](https://www.inflearn.com/course/%EC%98%88%EC%A0%9C%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%ED%95%B5%EC%8B%AC-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B0%B0%EC%B9%98#curriculum)
- https://velog.io/@calaf/Spring-Batch-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-1.-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0
 
### Batch 란?
- 개발자가 정의한 작업을 한번에 일괄 처리하는 어플케이션이다.

### 배치 어플리케이션
- 배치를 적용한 어플리케이션
  - 매출 데이터를 이용한 일매출 집계
  - 매우 큰 데이터를 활용한 보험급여 결정
  - 트랜잭션 방식으로 포맷, 유효성 확인 및 처리가 필요한 내부 및 외부 시스템에서 수신한 정보를 기록 시스템으로 통합
- 예시
  - 대용량 기반 데이터를 활용한 크롤링
  - 사용자의 접속이 거의 없는 시간대에 주기적으로 시도
- 필요한 상황
  - 일정 주기로 실행해야할 때
  - 실시간 처리가 어려운 대량의 데이터를 처리해야 할 때
  - -> 이런 작업을 하나의 어플리케이션에서 수행하면 성능 저하를 유발할 수 있으므로 배치 어플리케이션을 구현한다.
- 배치 어플리케이션의 족너
  - 대용량 데이터
    - 대량의 데이터를 가져오거나 전달하거나 개선하는 등의 처리를 할 수 있어야 한다.
  - 자동화
    - 심각한 문제 해결을 제외하고는 사용자의 개입 없이 실행되어야 한다.
  - 견고성
    - 잘못된 데이터를 충돌/중단 없이 처리할 수 있어야 한다.
  - 신뢰성
    - 무엇이 잘못되었는지를 추적할 수 있어야 한다. (로깅/알림)
  - 성능
    - 지정한 시간 안에 처리를 완료하거나 동시에 실행되는 다른 어플리케이션을 방해하지 않도록 수행되어야 한다.

> 배치(Spring Batch)와 스케쥴러(Quartz)의 차이  
> 스케쥴링: 매 시간 / 지정한 시간에 지정한 동작을 수행하는 것이다.
> 배치: 절대적인 목적은 대용량 데이터 처리이다. 스케쥴링 프레임워크는 배치를 도와주는 보완제 역할이다.

- 배치의 도메인 용어
- Job
  - Job의 이름을 정의
  - Step을 정의하고 순서를 정의
  - Job의 재사용 가능성을 정의
- JobInstance
  - 논리적으로 Job을 실행
  - JobParameters를 이용하여 구분
  - JobInstance = Job + Identifying JobParameters
- JobExecution
  - Job을 실행하는 단일 시도
  - 실패했던 JobInstance에 대해 새로운 실행을 하면 새로운 JobExecution이 실행된다.